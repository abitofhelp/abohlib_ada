<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="2382.2917px" preserveAspectRatio="none" style="width:1139px;height:2382px;" version="1.1" viewBox="0 0 1139 2382" width="1139.5833px" zoomAndPan="magnify"><title>State Machine Transition Flow</title><defs><linearGradient id="gn906wo32sdwt0" x1="50%" x2="50%" y1="0%" y2="100%"><stop offset="0%" stop-color="#FFFFFF"/><stop offset="100%" stop-color="#EEEEEE"/></linearGradient><linearGradient id="gn906wo32sdwt1" x1="50%" x2="50%" y1="0%" y2="100%"><stop offset="0%" stop-color="#F18E3E"/><stop offset="100%" stop-color="#EC7211"/></linearGradient></defs><g><rect fill="url(#gn906wo32sdwt0)" height="71.4722" rx="4.1667" ry="4.1667" style="stroke:#EEEEEE;stroke-width:1.0417;" width="451.7822" x="339.945" y="10.4167"/><text fill="#EC7211" font-family="Verdana" font-size="20.8333" font-weight="bold" lengthAdjust="spacing" textLength="353.3834" x="389.1444" y="41.7786">State Machine Transition Flow</text><text fill="#EC7211" font-family="Verdana" font-size="20.8333" font-weight="bold" lengthAdjust="spacing" textLength="430.9489" x="350.3616" y="67.098">With Validation and History Tracking</text><g><title>State_Machine</title><rect fill="#8191A3" height="174.3083" style="stroke:#ABB6C2;stroke-width:1.0417;" width="10.4167" x="300.4059" y="273.2971"/></g><g><title>State_Machine</title><rect fill="#8191A3" height="657.4748" style="stroke:#ABB6C2;stroke-width:1.0417;" width="10.4167" x="300.4059" y="542.572"/></g><g><title>State_Machine</title><rect fill="#8191A3" height="415.8915" style="stroke:#ABB6C2;stroke-width:1.0417;" width="10.4167" x="300.4059" y="1295.0134"/></g><g><title>State_Machine</title><rect fill="#8191A3" height="120.575" style="stroke:#ABB6C2;stroke-width:1.0417;" width="10.4167" x="300.4059" y="1805.8716"/></g><g><title>State_Machine</title><rect fill="#8191A3" height="120.575" style="stroke:#ABB6C2;stroke-width:1.0417;" width="10.4167" x="300.4059" y="1966.6382"/></g><g><title>Validator</title><rect fill="#8191A3" height="93.925" style="stroke:#ABB6C2;stroke-width:1.0417;" width="10.4167" x="560.08" y="636.497"/></g><g><title>Validator</title><rect fill="#8191A3" height="93.925" style="stroke:#ABB6C2;stroke-width:1.0417;" width="10.4167" x="560.08" y="1388.9384"/></g><g><title>History</title><rect fill="#8191A3" height="147.6583" style="stroke:#ABB6C2;stroke-width:1.0417;" width="10.4167" x="742.8029" y="824.3469"/></g><g><title>History</title><rect fill="#8191A3" height="40.1917" style="stroke:#ABB6C2;stroke-width:1.0417;" width="10.4167" x="742.8029" y="1846.0632"/></g><g><title>Statistics</title><rect fill="#8191A3" height="147.6583" style="stroke:#ABB6C2;stroke-width:1.0417;" width="10.4167" x="918.8182" y="1012.1969"/></g><g><title>Statistics</title><rect fill="#8191A3" height="147.6583" style="stroke:#ABB6C2;stroke-width:1.0417;" width="10.4167" x="918.8182" y="1523.055"/></g><g><title>Statistics</title><rect fill="#8191A3" height="40.1917" style="stroke:#ABB6C2;stroke-width:1.0417;" width="10.4167" x="918.8182" y="2006.8298"/></g><g><title>Client</title><rect fill="#000000" fill-opacity="0.00000" height="2113.7492" width="8.3333" x="27.3102" y="176.2472"/><line style="stroke:#ABB6C2;stroke-width:0.5208;stroke-dasharray:5.2083,5.2083;" x1="31.25" x2="31.25" y1="176.2472" y2="2289.9963"/></g><g><title>State_Machine</title><rect fill="#000000" fill-opacity="0.00000" height="2113.7492" width="8.3333" x="301.4476" y="176.2472"/><line style="stroke:#ABB6C2;stroke-width:0.5208;stroke-dasharray:5.2083,5.2083;" x1="305.1737" x2="305.1737" y1="176.2472" y2="2289.9963"/></g><g><title>Validator</title><rect fill="#000000" fill-opacity="0.00000" height="2113.7492" width="8.3333" x="561.1216" y="176.2472"/><line style="stroke:#ABB6C2;stroke-width:0.5208;stroke-dasharray:5.2083,5.2083;" x1="564.3443" x2="564.3443" y1="176.2472" y2="2289.9963"/></g><g><title>History</title><rect fill="#000000" fill-opacity="0.00000" height="2113.7492" width="8.3333" x="743.8446" y="176.2472"/><line style="stroke:#ABB6C2;stroke-width:0.5208;stroke-dasharray:5.2083,5.2083;" x1="747.5962" x2="747.5962" y1="176.2472" y2="2289.9963"/></g><g><title>Statistics</title><rect fill="#000000" fill-opacity="0.00000" height="2113.7492" width="8.3333" x="919.8598" y="176.2472"/><line style="stroke:#ABB6C2;stroke-width:0.5208;stroke-dasharray:5.2083,5.2083;" x1="923.5382" x2="923.5382" y1="176.2472" y2="2289.9963"/></g><g class="participant participant-head" data-participant="Client"><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="35.8704" x="10.4167" y="168.4143">Client</text><ellipse cx="31.4768" cy="96.993" fill="url(#gn906wo32sdwt1)" rx="8.3333" ry="8.3333" style="stroke:#EC7211;stroke-width:0.5208;"/><path d="M31.4768,105.3263 L31.4768,133.4513 M17.9352,113.6597 L45.0185,113.6597 M31.4768,133.4513 L17.9352,149.0763 M31.4768,133.4513 L45.0185,149.0763" fill="none" style="stroke:#EC7211;stroke-width:0.5208;"/></g><g class="participant participant-tail" data-participant="Client"><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="35.8704" x="10.4167" y="2306.7301">Client</text><ellipse cx="31.4768" cy="2323.4172" fill="url(#gn906wo32sdwt1)" rx="8.3333" ry="8.3333" style="stroke:#EC7211;stroke-width:0.5208;"/><path d="M31.4768,2331.7505 L31.4768,2359.8755 M17.9352,2340.0838 L45.0185,2340.0838 M31.4768,2359.8755 L17.9352,2375.5005 M31.4768,2359.8755 L45.0185,2375.5005" fill="none" style="stroke:#EC7211;stroke-width:0.5208;"/></g><g class="participant participant-head" data-participant="SM"><rect fill="url(#gn906wo32sdwt1)" height="40.1917" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:0.5208;" width="117.5476" x="246.8404" y="135.0138"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="92.5476" x="259.3404" y="160.081">State_Machine</text></g><g class="participant participant-tail" data-participant="SM"><rect fill="url(#gn906wo32sdwt1)" height="40.1917" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:0.5208;" width="117.5476" x="246.8404" y="2288.9547"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="92.5476" x="259.3404" y="2314.0218">State_Machine</text></g><g class="participant participant-head" data-participant="V"><rect fill="url(#gn906wo32sdwt1)" height="40.1917" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:0.5208;" width="81.0547" x="524.7609" y="135.0138"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="56.0547" x="537.2609" y="160.081">Validator</text></g><g class="participant participant-tail" data-participant="V"><rect fill="url(#gn906wo32sdwt1)" height="40.1917" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:0.5208;" width="81.0547" x="524.7609" y="2288.9547"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="56.0547" x="537.2609" y="2314.0218">Validator</text></g><g class="participant participant-head" data-participant="H"><rect fill="url(#gn906wo32sdwt1)" height="40.1917" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:0.5208;" width="69.5801" x="713.2212" y="135.0138"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="44.5801" x="725.7212" y="160.081">History</text></g><g class="participant participant-tail" data-participant="H"><rect fill="url(#gn906wo32sdwt1)" height="40.1917" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:0.5208;" width="69.5801" x="713.2212" y="2288.9547"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="44.5801" x="725.7212" y="2314.0218">History</text></g><g class="participant participant-head" data-participant="S"><rect fill="url(#gn906wo32sdwt1)" height="40.1917" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:0.5208;" width="82.2266" x="882.9132" y="135.0138"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="57.2266" x="895.4132" y="160.081">Statistics</text></g><g class="participant participant-tail" data-participant="S"><rect fill="url(#gn906wo32sdwt1)" height="40.1917" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:0.5208;" width="82.2266" x="882.9132" y="2288.9547"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="57.2266" x="895.4132" y="2314.0218">Statistics</text></g><g><title>State_Machine</title><rect fill="#8191A3" height="174.3083" style="stroke:#ABB6C2;stroke-width:1.0417;" width="10.4167" x="300.4059" y="273.2971"/></g><g><title>State_Machine</title><rect fill="#8191A3" height="657.4748" style="stroke:#ABB6C2;stroke-width:1.0417;" width="10.4167" x="300.4059" y="542.572"/></g><g><title>State_Machine</title><rect fill="#8191A3" height="415.8915" style="stroke:#ABB6C2;stroke-width:1.0417;" width="10.4167" x="300.4059" y="1295.0134"/></g><g><title>State_Machine</title><rect fill="#8191A3" height="120.575" style="stroke:#ABB6C2;stroke-width:1.0417;" width="10.4167" x="300.4059" y="1805.8716"/></g><g><title>State_Machine</title><rect fill="#8191A3" height="120.575" style="stroke:#ABB6C2;stroke-width:1.0417;" width="10.4167" x="300.4059" y="1966.6382"/></g><g><title>Validator</title><rect fill="#8191A3" height="93.925" style="stroke:#ABB6C2;stroke-width:1.0417;" width="10.4167" x="560.08" y="636.497"/></g><g><title>Validator</title><rect fill="#8191A3" height="93.925" style="stroke:#ABB6C2;stroke-width:1.0417;" width="10.4167" x="560.08" y="1388.9384"/></g><g><title>History</title><rect fill="#8191A3" height="147.6583" style="stroke:#ABB6C2;stroke-width:1.0417;" width="10.4167" x="742.8029" y="824.3469"/></g><g><title>History</title><rect fill="#8191A3" height="40.1917" style="stroke:#ABB6C2;stroke-width:1.0417;" width="10.4167" x="742.8029" y="1846.0632"/></g><g><title>Statistics</title><rect fill="#8191A3" height="147.6583" style="stroke:#ABB6C2;stroke-width:1.0417;" width="10.4167" x="918.8182" y="1012.1969"/></g><g><title>Statistics</title><rect fill="#8191A3" height="147.6583" style="stroke:#ABB6C2;stroke-width:1.0417;" width="10.4167" x="918.8182" y="1523.055"/></g><g><title>Statistics</title><rect fill="#8191A3" height="40.1917" style="stroke:#ABB6C2;stroke-width:1.0417;" width="10.4167" x="918.8182" y="2006.8298"/></g><rect fill="#4E5D6C" height="3.125" rx="4.1667" ry="4.1667" style="stroke:#4E5D6C;stroke-width:1.0417;" width="1132.7138" x="0" y="213.0096"/><line style="stroke:#4E5D6C;stroke-width:1.0417;" x1="0" x2="1132.7138" y1="213.0096" y2="213.0096"/><line style="stroke:#4E5D6C;stroke-width:1.0417;" x1="0" x2="1132.7138" y1="216.1346" y2="216.1346"/><rect fill="#4E5D6C" height="33.9417" rx="4.1667" ry="4.1667" style="stroke:#4E5D6C;stroke-width:2.0833;" width="119.397" x="506.6584" y="197.0805"/><text fill="#ABB6C2" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="90.1245" x="518.1168" y="219.0226">Initialization</text><g class="message" data-participant-1="Client" data-participant-2="SM"><polygon fill="#EC7211" points="287.9059,269.1305,298.3226,273.2971,287.9059,277.4638,292.0726,273.2971" style="stroke:#EC7211;stroke-width:1.0417;"/><line style="stroke:#EC7211;stroke-width:3.125;" x1="31.4768" x2="294.1559" y1="273.2971" y2="273.2971"/><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="129.9316" x="43.9768" y="263.3809">Create(Initial_State)</text></g><g class="message" data-participant-1="SM" data-participant-2="SM"><line style="stroke:#EC7211;stroke-width:3.125;" x1="310.8226" x2="354.5726" y1="313.4888" y2="313.4888"/><line style="stroke:#EC7211;stroke-width:3.125;" x1="354.5726" x2="354.5726" y1="313.4888" y2="327.0304"/><line style="stroke:#EC7211;stroke-width:3.125;" x1="311.8642" x2="354.5726" y1="327.0304" y2="327.0304"/><polygon fill="#EC7211" points="322.2809,322.8638,311.8642,327.0304,322.2809,331.1971,318.1142,327.0304" style="stroke:#EC7211;stroke-width:1.0417;"/><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="169.1101" x="323.3226" y="303.5726">Set Current_State = Initial</text></g><g class="message" data-participant-1="SM" data-participant-2="H"><polygon fill="#EC7211" points="735.5113,363.0554,745.9279,367.2221,735.5113,371.3888,739.6779,367.2221" style="stroke:#EC7211;stroke-width:1.0417;"/><line style="stroke:#EC7211;stroke-width:3.125;" x1="310.8226" x2="741.7613" y1="367.2221" y2="367.2221"/><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="90.6067" x="323.3226" y="357.3059">Record(Initial)</text></g><g class="message" data-participant-1="SM" data-participant-2="S"><polygon fill="#EC7211" points="911.5265,403.2471,921.9432,407.4137,911.5265,411.5804,915.6932,407.4137" style="stroke:#EC7211;stroke-width:1.0417;"/><line style="stroke:#EC7211;stroke-width:3.125;" x1="310.8226" x2="917.7765" y1="407.4137" y2="407.4137"/><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="105.0537" x="323.3226" y="397.4976">Initialize_Stats()</text></g><g class="message" data-participant-1="SM" data-participant-2="Client"><polygon fill="#EC7211" points="42.9352,443.4387,32.5185,447.6054,42.9352,451.7721,38.7685,447.6054" style="stroke:#EC7211;stroke-width:1.0417;"/><line style="stroke:#EC7211;stroke-width:3.125;stroke-dasharray:2.0833,2.0833;" x1="36.6852" x2="304.5726" y1="447.6054" y2="447.6054"/><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="149.0967" x="54.3935" y="437.6892">State_Machine instance</text></g><rect fill="#4E5D6C" height="3.125" rx="4.1667" ry="4.1667" style="stroke:#4E5D6C;stroke-width:1.0417;" width="1132.7138" x="0" y="482.2845"/><line style="stroke:#4E5D6C;stroke-width:1.0417;" x1="0" x2="1132.7138" y1="482.2845" y2="482.2845"/><line style="stroke:#4E5D6C;stroke-width:1.0417;" x1="0" x2="1132.7138" y1="485.4095" y2="485.4095"/><rect fill="#4E5D6C" height="33.9417" rx="4.1667" ry="4.1667" style="stroke:#4E5D6C;stroke-width:2.0833;" width="139.856" x="496.4289" y="466.3554"/><text fill="#ABB6C2" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="110.5835" x="507.8873" y="488.2975">Valid Transition</text><g class="message" data-participant-1="Client" data-participant-2="SM"><polygon fill="#EC7211" points="287.9059,538.4054,298.3226,542.572,287.9059,546.7387,292.0726,542.572" style="stroke:#EC7211;stroke-width:1.0417;"/><line style="stroke:#EC7211;stroke-width:3.125;" x1="31.4768" x2="294.1559" y1="542.572" y2="542.572"/><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="223.0225" x="43.9768" y="532.6558">Transition_To(New_State, Context)</text></g><g class="message" data-participant-1="SM" data-participant-2="SM"><line style="stroke:#EC7211;stroke-width:3.125;" x1="310.8226" x2="354.5726" y1="582.7637" y2="582.7637"/><line style="stroke:#EC7211;stroke-width:3.125;" x1="354.5726" x2="354.5726" y1="582.7637" y2="596.3053"/><line style="stroke:#EC7211;stroke-width:3.125;" x1="311.8642" x2="354.5726" y1="596.3053" y2="596.3053"/><polygon fill="#EC7211" points="322.2809,592.1387,311.8642,596.3053,322.2809,600.472,318.1142,596.3053" style="stroke:#EC7211;stroke-width:1.0417;"/><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="123.4741" x="323.3226" y="572.8475">Check current state</text></g><g class="message" data-participant-1="SM" data-participant-2="V"><polygon fill="#EC7211" points="547.58,632.3303,557.9966,636.497,547.58,640.6637,551.7466,636.497" style="stroke:#EC7211;stroke-width:1.0417;"/><line style="stroke:#EC7211;stroke-width:3.125;" x1="310.8226" x2="553.83" y1="636.497" y2="636.497"/><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="203.3508" x="323.3226" y="626.5808">Validate(Current, New, Context)</text></g><g class="message" data-participant-1="V" data-participant-2="V"><line style="stroke:#EC7211;stroke-width:3.125;" x1="570.4966" x2="614.2466" y1="676.6886" y2="676.6886"/><line style="stroke:#EC7211;stroke-width:3.125;" x1="614.2466" x2="614.2466" y1="676.6886" y2="690.2303"/><line style="stroke:#EC7211;stroke-width:3.125;" x1="571.5383" x2="614.2466" y1="690.2303" y2="690.2303"/><polygon fill="#EC7211" points="581.955,686.0636,571.5383,690.2303,581.955,694.397,577.7883,690.2303" style="stroke:#EC7211;stroke-width:1.0417;"/><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="136.8896" x="582.9966" y="666.7725">Check transition rules</text></g><g class="message" data-participant-1="V" data-participant-2="SM"><polygon fill="#EC7211" points="322.2809,726.2553,311.8642,730.422,322.2809,734.5886,318.1142,730.422" style="stroke:#EC7211;stroke-width:1.0417;"/><line style="stroke:#EC7211;stroke-width:3.125;stroke-dasharray:2.0833,2.0833;" x1="316.0309" x2="564.2466" y1="730.422" y2="730.422"/><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="73.6938" x="333.7392" y="720.5058">True (valid)</text></g><g class="message" data-participant-1="SM" data-participant-2="SM"><line style="stroke:#EC7211;stroke-width:3.125;" x1="310.8226" x2="354.5726" y1="770.6136" y2="770.6136"/><line style="stroke:#EC7211;stroke-width:3.125;" x1="354.5726" x2="354.5726" y1="770.6136" y2="784.1553"/><line style="stroke:#EC7211;stroke-width:3.125;" x1="311.8642" x2="354.5726" y1="784.1553" y2="784.1553"/><polygon fill="#EC7211" points="322.2809,779.9886,311.8642,784.1553,322.2809,788.3219,318.1142,784.1553" style="stroke:#EC7211;stroke-width:1.0417;"/><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="183.9294" x="323.3226" y="760.6974">Update Current_State = New</text></g><g class="message" data-participant-1="SM" data-participant-2="H"><polygon fill="#EC7211" points="730.3029,820.1803,740.7196,824.3469,730.3029,828.5136,734.4696,824.3469" style="stroke:#EC7211;stroke-width:1.0417;"/><line style="stroke:#EC7211;stroke-width:3.125;" x1="310.8226" x2="736.5529" y1="824.3469" y2="824.3469"/><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="123.0347" x="323.3226" y="814.4307">Record(New_State)</text></g><g class="message" data-participant-1="H" data-participant-2="H"><line style="stroke:#EC7211;stroke-width:3.125;" x1="753.2196" x2="796.9696" y1="864.5386" y2="864.5386"/><line style="stroke:#EC7211;stroke-width:3.125;" x1="796.9696" x2="796.9696" y1="864.5386" y2="878.0802"/><line style="stroke:#EC7211;stroke-width:3.125;" x1="754.2613" x2="796.9696" y1="878.0802" y2="878.0802"/><polygon fill="#EC7211" points="764.6779,873.9136,754.2613,878.0802,764.6779,882.2469,760.5113,878.0802" style="stroke:#EC7211;stroke-width:1.0417;"/><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="130.1819" x="765.7196" y="854.6224">Add to history buffer</text></g><g class="message" data-participant-1="H" data-participant-2="H"><line style="stroke:#EC7211;stroke-width:3.125;" x1="753.2196" x2="796.9696" y1="918.2719" y2="918.2719"/><line style="stroke:#EC7211;stroke-width:3.125;" x1="796.9696" x2="796.9696" y1="918.2719" y2="931.8136"/><line style="stroke:#EC7211;stroke-width:3.125;" x1="754.2613" x2="796.9696" y1="931.8136" y2="931.8136"/><polygon fill="#EC7211" points="764.6779,927.6469,754.2613,931.8136,764.6779,935.9802,760.5113,931.8136" style="stroke:#EC7211;stroke-width:1.0417;"/><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="112.9639" x="765.7196" y="908.3557">Maintain max size</text></g><g class="message" data-participant-1="H" data-participant-2="SM"><polygon fill="#EC7211" points="322.2809,967.8385,311.8642,972.0052,322.2809,976.1719,318.1142,972.0052" style="stroke:#EC7211;stroke-width:1.0417;"/><line style="stroke:#EC7211;stroke-width:3.125;stroke-dasharray:2.0833,2.0833;" x1="316.0309" x2="746.9696" y1="972.0052" y2="972.0052"/><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="58.5938" x="333.7392" y="962.089">Recorded</text></g><g class="message" data-participant-1="SM" data-participant-2="S"><polygon fill="#EC7211" points="906.3182,1008.0302,916.7348,1012.1969,906.3182,1016.3635,910.4848,1012.1969" style="stroke:#EC7211;stroke-width:1.0417;"/><line style="stroke:#EC7211;stroke-width:3.125;" x1="310.8226" x2="912.5682" y1="1012.1969" y2="1012.1969"/><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="144.2383" x="323.3226" y="1002.2807">Update_Stats(success)</text></g><g class="message" data-participant-1="S" data-participant-2="S"><line style="stroke:#EC7211;stroke-width:3.125;" x1="929.2348" x2="972.9848" y1="1052.3885" y2="1052.3885"/><line style="stroke:#EC7211;stroke-width:3.125;" x1="972.9848" x2="972.9848" y1="1052.3885" y2="1065.9302"/><line style="stroke:#EC7211;stroke-width:3.125;" x1="930.2765" x2="972.9848" y1="1065.9302" y2="1065.9302"/><polygon fill="#EC7211" points="940.6932,1061.7635,930.2765,1065.9302,940.6932,1070.0968,936.5265,1065.9302" style="stroke:#EC7211;stroke-width:1.0417;"/><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="128.3203" x="941.7348" y="1042.4723">Total_Transitions++</text></g><g class="message" data-participant-1="S" data-participant-2="S"><line style="stroke:#EC7211;stroke-width:3.125;" x1="929.2348" x2="972.9848" y1="1106.1218" y2="1106.1218"/><line style="stroke:#EC7211;stroke-width:3.125;" x1="972.9848" x2="972.9848" y1="1106.1218" y2="1119.6635"/><line style="stroke:#EC7211;stroke-width:3.125;" x1="930.2765" x2="972.9848" y1="1119.6635" y2="1119.6635"/><polygon fill="#EC7211" points="940.6932,1115.4968,930.2765,1119.6635,940.6932,1123.8302,936.5265,1119.6635" style="stroke:#EC7211;stroke-width:1.0417;"/><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="162.854" x="941.7348" y="1096.2056">Successful_Transitions++</text></g><g class="message" data-participant-1="S" data-participant-2="SM"><polygon fill="#EC7211" points="322.2809,1155.6885,311.8642,1159.8551,322.2809,1164.0218,318.1142,1159.8551" style="stroke:#EC7211;stroke-width:1.0417;"/><line style="stroke:#EC7211;stroke-width:3.125;stroke-dasharray:2.0833,2.0833;" x1="316.0309" x2="922.9848" y1="1159.8551" y2="1159.8551"/><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="52.3926" x="333.7392" y="1149.939">Updated</text></g><g class="message" data-participant-1="SM" data-participant-2="Client"><polygon fill="#EC7211" points="42.9352,1195.8801,32.5185,1200.0468,42.9352,1204.2135,38.7685,1200.0468" style="stroke:#EC7211;stroke-width:1.0417;"/><line style="stroke:#EC7211;stroke-width:3.125;stroke-dasharray:2.0833,2.0833;" x1="36.6852" x2="304.5726" y1="1200.0468" y2="1200.0468"/><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="56.9824" x="54.3935" y="1190.1306">Ok(True)</text></g><rect fill="#4E5D6C" height="3.125" rx="4.1667" ry="4.1667" style="stroke:#4E5D6C;stroke-width:1.0417;" width="1132.7138" x="0" y="1234.726"/><line style="stroke:#4E5D6C;stroke-width:1.0417;" x1="0" x2="1132.7138" y1="1234.726" y2="1234.726"/><line style="stroke:#4E5D6C;stroke-width:1.0417;" x1="0" x2="1132.7138" y1="1237.851" y2="1237.851"/><rect fill="#4E5D6C" height="33.9417" rx="4.1667" ry="4.1667" style="stroke:#4E5D6C;stroke-width:2.0833;" width="154.1626" x="489.2756" y="1218.7968"/><text fill="#ABB6C2" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="124.8901" x="500.7339" y="1240.7389">Invalid Transition</text><g class="message" data-participant-1="Client" data-participant-2="SM"><polygon fill="#EC7211" points="287.9059,1290.8468,298.3226,1295.0134,287.9059,1299.1801,292.0726,1295.0134" style="stroke:#EC7211;stroke-width:1.0417;"/><line style="stroke:#EC7211;stroke-width:3.125;" x1="31.4768" x2="294.1559" y1="1295.0134" y2="1295.0134"/><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="238.7207" x="43.9768" y="1285.0972">Transition_To(Invalid_State, Context)</text></g><g class="message" data-participant-1="SM" data-participant-2="SM"><line style="stroke:#EC7211;stroke-width:3.125;" x1="310.8226" x2="354.5726" y1="1335.2051" y2="1335.2051"/><line style="stroke:#EC7211;stroke-width:3.125;" x1="354.5726" x2="354.5726" y1="1335.2051" y2="1348.7467"/><line style="stroke:#EC7211;stroke-width:3.125;" x1="311.8642" x2="354.5726" y1="1348.7467" y2="1348.7467"/><polygon fill="#EC7211" points="322.2809,1344.5801,311.8642,1348.7467,322.2809,1352.9134,318.1142,1348.7467" style="stroke:#EC7211;stroke-width:1.0417;"/><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="123.4741" x="323.3226" y="1325.2889">Check current state</text></g><g class="message" data-participant-1="SM" data-participant-2="V"><polygon fill="#EC7211" points="547.58,1384.7717,557.9966,1388.9384,547.58,1393.1051,551.7466,1388.9384" style="stroke:#EC7211;stroke-width:1.0417;"/><line style="stroke:#EC7211;stroke-width:3.125;" x1="310.8226" x2="553.83" y1="1388.9384" y2="1388.9384"/><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="219.0491" x="323.3226" y="1379.0222">Validate(Current, Invalid, Context)</text></g><g class="message" data-participant-1="V" data-participant-2="V"><line style="stroke:#EC7211;stroke-width:3.125;" x1="570.4966" x2="614.2466" y1="1429.13" y2="1429.13"/><line style="stroke:#EC7211;stroke-width:3.125;" x1="614.2466" x2="614.2466" y1="1429.13" y2="1442.6717"/><line style="stroke:#EC7211;stroke-width:3.125;" x1="571.5383" x2="614.2466" y1="1442.6717" y2="1442.6717"/><polygon fill="#EC7211" points="581.955,1438.505,571.5383,1442.6717,581.955,1446.8384,577.7883,1442.6717" style="stroke:#EC7211;stroke-width:1.0417;"/><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="136.8896" x="582.9966" y="1419.2139">Check transition rules</text></g><g class="message" data-participant-1="V" data-participant-2="SM"><polygon fill="#EC7211" points="322.2809,1478.6967,311.8642,1482.8634,322.2809,1487.03,318.1142,1482.8634" style="stroke:#EC7211;stroke-width:1.0417;"/><line style="stroke:#EC7211;stroke-width:3.125;stroke-dasharray:2.0833,2.0833;" x1="316.0309" x2="564.2466" y1="1482.8634" y2="1482.8634"/><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="88.7207" x="333.7392" y="1472.9472">False (invalid)</text></g><g class="message" data-participant-1="SM" data-participant-2="S"><polygon fill="#EC7211" points="906.3182,1518.8883,916.7348,1523.055,906.3182,1527.2217,910.4848,1523.055" style="stroke:#EC7211;stroke-width:1.0417;"/><line style="stroke:#EC7211;stroke-width:3.125;" x1="310.8226" x2="912.5682" y1="1523.055" y2="1523.055"/><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="130.3162" x="323.3226" y="1513.1388">Update_Stats(failed)</text></g><g class="message" data-participant-1="S" data-participant-2="S"><line style="stroke:#EC7211;stroke-width:3.125;" x1="929.2348" x2="972.9848" y1="1563.2467" y2="1563.2467"/><line style="stroke:#EC7211;stroke-width:3.125;" x1="972.9848" x2="972.9848" y1="1563.2467" y2="1576.7883"/><line style="stroke:#EC7211;stroke-width:3.125;" x1="930.2765" x2="972.9848" y1="1576.7883" y2="1576.7883"/><polygon fill="#EC7211" points="940.6932,1572.6217,930.2765,1576.7883,940.6932,1580.955,936.5265,1576.7883" style="stroke:#EC7211;stroke-width:1.0417;"/><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="128.3203" x="941.7348" y="1553.3305">Total_Transitions++</text></g><g class="message" data-participant-1="S" data-participant-2="S"><line style="stroke:#EC7211;stroke-width:3.125;" x1="929.2348" x2="972.9848" y1="1616.98" y2="1616.98"/><line style="stroke:#EC7211;stroke-width:3.125;" x1="972.9848" x2="972.9848" y1="1616.98" y2="1630.5216"/><line style="stroke:#EC7211;stroke-width:3.125;" x1="930.2765" x2="972.9848" y1="1630.5216" y2="1630.5216"/><polygon fill="#EC7211" points="940.6932,1626.355,930.2765,1630.5216,940.6932,1634.6883,936.5265,1630.5216" style="stroke:#EC7211;stroke-width:1.0417;"/><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="133.9539" x="941.7348" y="1607.0638">Failed_Transitions++</text></g><g class="message" data-participant-1="S" data-participant-2="SM"><polygon fill="#EC7211" points="322.2809,1666.5466,311.8642,1670.7133,322.2809,1674.88,318.1142,1670.7133" style="stroke:#EC7211;stroke-width:1.0417;"/><line style="stroke:#EC7211;stroke-width:3.125;stroke-dasharray:2.0833,2.0833;" x1="316.0309" x2="922.9848" y1="1670.7133" y2="1670.7133"/><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="52.3926" x="333.7392" y="1660.7971">Updated</text></g><g class="message" data-participant-1="SM" data-participant-2="Client"><polygon fill="#EC7211" points="42.9352,1706.7383,32.5185,1710.9049,42.9352,1715.0716,38.7685,1710.9049" style="stroke:#EC7211;stroke-width:1.0417;"/><line style="stroke:#EC7211;stroke-width:3.125;stroke-dasharray:2.0833,2.0833;" x1="36.6852" x2="304.5726" y1="1710.9049" y2="1710.9049"/><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="142.8467" x="54.3935" y="1700.9888">Err(Invalid_Transition)</text></g><rect fill="#4E5D6C" height="3.125" rx="4.1667" ry="4.1667" style="stroke:#4E5D6C;stroke-width:1.0417;" width="1132.7138" x="0" y="1745.5841"/><line style="stroke:#4E5D6C;stroke-width:1.0417;" x1="0" x2="1132.7138" y1="1745.5841" y2="1745.5841"/><line style="stroke:#4E5D6C;stroke-width:1.0417;" x1="0" x2="1132.7138" y1="1748.7091" y2="1748.7091"/><rect fill="#4E5D6C" height="33.9417" rx="4.1667" ry="4.1667" style="stroke:#4E5D6C;stroke-width:2.0833;" width="152.8259" x="489.9439" y="1729.6549"/><text fill="#ABB6C2" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="123.5535" x="501.4023" y="1751.5971">Query Operations</text><g class="message" data-participant-1="Client" data-participant-2="SM"><polygon fill="#EC7211" points="287.9059,1801.7049,298.3226,1805.8716,287.9059,1810.0382,292.0726,1805.8716" style="stroke:#EC7211;stroke-width:1.0417;"/><line style="stroke:#EC7211;stroke-width:3.125;" x1="31.4768" x2="294.1559" y1="1805.8716" y2="1805.8716"/><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="123.0042" x="43.9768" y="1795.9554">Get_History(Count)</text></g><g class="message" data-participant-1="SM" data-participant-2="H"><polygon fill="#EC7211" points="730.3029,1841.8966,740.7196,1846.0632,730.3029,1850.2299,734.4696,1846.0632" style="stroke:#EC7211;stroke-width:1.0417;"/><line style="stroke:#EC7211;stroke-width:3.125;" x1="310.8226" x2="736.5529" y1="1846.0632" y2="1846.0632"/><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="134.3811" x="323.3226" y="1836.1471">Retrieve_Last(Count)</text></g><g class="message" data-participant-1="H" data-participant-2="SM"><polygon fill="#EC7211" points="322.2809,1882.0882,311.8642,1886.2549,322.2809,1890.4215,318.1142,1886.2549" style="stroke:#EC7211;stroke-width:1.0417;"/><line style="stroke:#EC7211;stroke-width:3.125;stroke-dasharray:2.0833,2.0833;" x1="316.0309" x2="746.9696" y1="1886.2549" y2="1886.2549"/><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="75.415" x="333.7392" y="1876.3387">State_Array</text></g><g class="message" data-participant-1="SM" data-participant-2="Client"><polygon fill="#EC7211" points="42.9352,1922.2799,32.5185,1926.4465,42.9352,1930.6132,38.7685,1926.4465" style="stroke:#EC7211;stroke-width:1.0417;"/><line style="stroke:#EC7211;stroke-width:3.125;stroke-dasharray:2.0833,2.0833;" x1="36.6852" x2="304.5726" y1="1926.4465" y2="1926.4465"/><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="86.8042" x="54.3935" y="1916.5304">History states</text></g><g class="message" data-participant-1="Client" data-participant-2="SM"><polygon fill="#EC7211" points="287.9059,1962.4715,298.3226,1966.6382,287.9059,1970.8049,292.0726,1966.6382" style="stroke:#EC7211;stroke-width:1.0417;"/><line style="stroke:#EC7211;stroke-width:3.125;" x1="31.4768" x2="294.1559" y1="1966.6382" y2="1966.6382"/><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="98.5901" x="43.9768" y="1956.722">Get_Statistics()</text></g><g class="message" data-participant-1="SM" data-participant-2="S"><polygon fill="#EC7211" points="906.3182,2002.6632,916.7348,2006.8298,906.3182,2010.9965,910.4848,2006.8298" style="stroke:#EC7211;stroke-width:1.0417;"/><line style="stroke:#EC7211;stroke-width:3.125;" x1="310.8226" x2="912.5682" y1="2006.8298" y2="2006.8298"/><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="88.9526" x="323.3226" y="1996.9137">Get_Current()</text></g><g class="message" data-participant-1="S" data-participant-2="SM"><polygon fill="#EC7211" points="322.2809,2042.8548,311.8642,2047.0215,322.2809,2051.1882,318.1142,2047.0215" style="stroke:#EC7211;stroke-width:1.0417;"/><line style="stroke:#EC7211;stroke-width:3.125;stroke-dasharray:2.0833,2.0833;" x1="316.0309" x2="922.9848" y1="2047.0215" y2="2047.0215"/><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="101.6235" x="333.7392" y="2037.1053">Statistics record</text></g><g class="message" data-participant-1="SM" data-participant-2="Client"><polygon fill="#EC7211" points="42.9352,2083.0465,32.5185,2087.2131,42.9352,2091.3798,38.7685,2087.2131" style="stroke:#EC7211;stroke-width:1.0417;"/><line style="stroke:#EC7211;stroke-width:3.125;stroke-dasharray:2.0833,2.0833;" x1="36.6852" x2="304.5726" y1="2087.2131" y2="2087.2131"/><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="32.4158" x="54.3935" y="2077.297">Stats</text></g><path d="M168.75,2104.9215 L168.75,2177.8381 A4.1667,4.1667 0 0 0 172.9167,2182.0048 L436.4583,2182.0048 A4.1667,4.1667 0 0 0 440.625,2177.8381 L440.625,2111.1715 L430.2083,2100.7548 L172.9167,2100.7548 A4.1667,4.1667 0 0 0 168.75,2104.9215" fill="#0073BB" style="stroke:#005C96;stroke-width:1.0417;"/><path d="M430.2083,2100.7548 L430.2083,2109.0881 A2.0833,2.0833 0 0 0 432.2917,2111.1715 L440.625,2111.1715 L430.2083,2100.7548" fill="#0073BB" style="stroke:#005C96;stroke-width:1.0417;"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="102.9724" x="180.2083" y="2123.7386">Thread Safety:</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="240.4114" x="180.2083" y="2138.9303">- Protected type for concurrent access</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="159.3201" x="180.2083" y="2154.1219">- Atomic state transitions</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="172.6074" x="180.2083" y="2169.3136">- Safe history management</text><path d="M448.9583,2196.9381 L448.9583,2269.8547 A4.1667,4.1667 0 0 0 453.125,2274.0214 L677.0833,2274.0214 A4.1667,4.1667 0 0 0 681.25,2269.8547 L681.25,2203.1881 L670.8333,2192.7714 L453.125,2192.7714 A4.1667,4.1667 0 0 0 448.9583,2196.9381" fill="#0073BB" style="stroke:#005C96;stroke-width:1.0417;"/><path d="M670.8333,2192.7714 L670.8333,2201.1047 A2.0833,2.0833 0 0 0 672.9167,2203.1881 L681.25,2203.1881 L670.8333,2192.7714" fill="#0073BB" style="stroke:#005C96;stroke-width:1.0417;"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="118.9575" x="460.4167" y="2215.7552">Validation Rules:</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="123.5352" x="460.4167" y="2230.9469">- User-defined logic</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="164.2151" x="460.4167" y="2246.1385">- Context-aware decisions</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="200.116" x="460.4167" y="2261.3302">- Pure function (no side effects)</text><!--SRC=[jLNRRXen47ttLqppj93m0qXKYb1J8fKcpHBoKWcvtbcmijZ8zaBertVMDdjXQQKewWFIufavFfvpFFxaDhX5u0SxqeQhDJ8dNO6GEkuGvbnif49OKCXA9xM2kq8VVgeNwJQmv8NCk5_bAeEPj4wROvKiNgLQCyO5BS2qaAWSst7Zf90xhXnSUVXLXBy2RY6TTpCYk3O-kkm6urO-DEiZKrGA6s0PcqpWNX5v0lmTs4ucB922qMVQU0nJWyGdYMahpsvGqPVxgWt4BPsVSbDqC2sDeVAG23L-p9gDuGc5Dja9S70g7pTCq1VR9CGe61YDeTCQaCewhWIo3DjqgaFv3hMbwHshYQqMElcEXq3u1gPQENnpVplYT8FY5KGu9DYgXiNmSdoI7PFOXHiWv4kOIxQC9G7GDLHDMQ2jmZNJ4Y7PLyY3zb6Nh4NhULTjssi-xTvhV7tM5fqPcyMasom3fs4J3Vkhp7CqTNJEfNBqWor_0qjALP588S1ZrkOuOusyWMAKrfP2eBNjBhCq9Ywq8wCr0jdhwpgMXhgyl93GQKM7HihEdVJmcbHz7LpmphtQlzCziU8_EIYYVz15TxomP2Ef_cMaCv5oBWlCtgtHdI_xc3vVZAdRsW1Takj7YUJJXnqQFy1iNwolw5PnAYPJNQgBolZxuOp4FQw-SUjwcREMrSCSkZM67xjkFpl5QUnxaUqv-JxBPa0d5zqJig8padDXMkG221X_9RkTlZ1IUyoKfW-zHrFz0nWE5njw1J98UOxkE1uEQN44ZuRI14a9xhX3oEaz4rgTZCtzHVM9jqvlfGXTQ7aq12lCUjnikU9hUdJfJKHwDYiURJPBJwRrjZvLBZ_nURPeHXdcz3PaKEYr57uvNfiHFt23aA6GjjxyiQIbl5J2eoLAqr3B4926dd0qdMeIVm00]--></g></svg>